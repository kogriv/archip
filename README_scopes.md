## dir(), globals(), locals()
Давайте рассмотрим, какие инструкции могут помочь вам понять области видимости и принцип замыкания.

1. `locals()` и `globals()` функции:  
- `locals()` возвращает словарь локальных символов в текущей области видимости.
- `globals()` возвращает словарь глобальных символов.  

2. dir() функция:  
- `dir()` возвращает отсортированный список имен в текущей локальной области видимости.


Пример:
```python
def say_name(name):
    def say_goodbye():
        print("Don't say me goodbye, " + name + "!")

    return say_goodbye

f = say_name("Ivan")

print("Global scope dict:", globals())
print("Local scope dict:", locals())
print("Local scope list:", dir())
```

Теперь, касательно замыкания (**closure**), важно понимать, что вложенная функция `say_goodbye` сохраняет доступ к переменной name, даже после завершения вызывающей функции `say_name`. Это происходит потому, что в момент создания функции `say_goodbye`, она "захватывает" (**captures**) переменную name из внешней функции `say_name`. Таким образом, say_goodbye является замыканием, так как она "замыкает" в себе значение `name` из внешней области видимости.

С использованием `dir(f)` вы сможете просмотреть область видимости для переменной `f`, и увидеть, какие имена связаны с этой переменной.
```python
# Используем dir() для просмотра области видимости переменной f
print("Scope list of variable 'f':", dir(f))
```

## Просмотр dir(замыкание)
Для инструкции `print("Scope list of variable 'f':", dir(f))` (`f`- результат замыкания) имеем вывод:
```cmd
Scope list of variable 'f': ['__annotations__', '__builtins__', '__call__', '__class__', '__closure__', '__code__', '__defaults__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__get__', '__getattribute__', '__globals__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__kwdefaults__', '__le__', '__lt__', '__module__', '__name__', '__ne__', '__new__', '__qualname__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__']
```

Из вывода `dir(f)` можно выделить несколько атрибутов, связанных с внутренней функцией `say_goodbye` и переменной `name`. Вот некоторые из них:

`__closure__`: Этот атрибут содержит кортеж, представляющий замыкание (**closure**). В данном случае, вы можете просмотреть содержимое `__closure__`, чтобы увидеть, какие переменные замыкаются внутри функции `say_goodbye`. Ваш случай должен содержать значение (`'Ivan',`).
`__code__`: Этот атрибут предоставляет объект кода для функции. Вы можете использовать `__code__.co_varnames` для просмотра локальных переменных функции. Ваш случай должен содержать (`'name',`).
`__globals__`: Этот атрибут ссылается на глобальные переменные доступные внутри функции. Ваш случай должен содержать глобальные переменные.

